module.exports=[70406,(e,t,s)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},38272,(e,t,s)=>{t.exports=e.x("rss-parser",()=>require("rss-parser"))},27368,e=>{"use strict";var t=e.i(26747),s=e.i(90406),r=e.i(44898),i=e.i(62950);let a=new(e.i(38272)).default({headers:{"user-agent":"Mozilla/5.0 (TopicFeed/1.0; +https://example.com)"}}),n={energy:{name:"Energy",urls:["https://www.oilprice.com/rss/main","https://feeds.reuters.com/reuters/commoditiesNews","https://www.eia.gov/rss/todayinenergy.xml"]},geopolitics:{name:"Geopolitics",urls:["https://feeds.reuters.com/Reuters/worldNews","https://feeds.bbci.co.uk/news/world/rss.xml","https://www.aljazeera.com/xml/rss/all.xml"]},cpi:{name:"CPI",urls:["https://www.bls.gov/feeds/news_release/cpi.rss","https://feeds.reuters.com/reuters/businessNews"]},inflation:{name:"Inflation",urls:["https://feeds.reuters.com/reuters/businessNews","https://www.imf.org/en/News/rss"]},rates:{name:"Rates (CBs)",urls:["https://www.federalreserve.gov/feeds/press_all.xml","https://www.ecb.europa.eu/rss/press.html","https://www.bankofengland.co.uk/news/news.xml","https://www.bis.org/press_rss.xml"]},dxy:{name:"DXY / FX",urls:["https://feeds.reuters.com/news/forexNews","https://feeds.bbci.co.uk/news/business/rss.xml"]},"btc-flows":{name:"BTC Flows",urls:["https://www.coindesk.com/arc/outboundfeeds/rss/?outputType=xml","https://cointelegraph.com/rss"]},housing:{name:"Housing",urls:["https://www.redfin.com/blog/feed/","https://www.zillow.com/research/feed/","https://www.realtor.com/research/feed/"]},"tech-ai":{name:"Technology & AI",urls:["https://techcrunch.com/feed/","https://www.cnbc.com/id/19854910/device/rss/rss.html","https://www.ft.com/technology?format=rss"]},oil:{name:"Oil",urls:["https://www.oilprice.com/rss/main","https://feeds.reuters.com/reuters/commoditiesNews"]},regulation:{name:"Regulation",urls:["https://feeds.reuters.com/reuters/USdomesticNews","https://www.sec.gov/news/pressreleases.rss"]},"supply-chains":{name:"Supply Chains",urls:["https://www.wsj.com/news/types/logistics-report?mod=rss","https://www.reuters.com/subjects/supply-chain/rss"]},credit:{name:"Credit",urls:["https://www.reuters.com/finance/deals/rss","https://www.bloomberg.com/politics/feeds/site.xml"]},liquidity:{name:"Liquidity",urls:["https://seekingalpha.com/market_currents.xml","https://www.federalreserve.gov/feeds/press_all.xml"]},gdp:{name:"Growth / GDP",urls:["https://www.bea.gov/rss.xml","https://www.oecd.org/rssfeeds/publicationsandproducts.xml"]},demographics:{name:"Demographics",urls:["https://www.census.gov/newsroom/census-rss.xml","https://www.pewresearch.org/feed/"]},elections:{name:"Elections",urls:["https://feeds.reuters.com/Reuters/PoliticsNews","https://feeds.bbci.co.uk/news/politics/rss.xml"]},climate:{name:"Climate",urls:["https://climate.nasa.gov/news/rss.xml","https://www.noaa.gov/rss","https://www.bloomberg.com/feeds/bgreen.xml"]},sentiment:{name:"Sentiment",urls:["https://finance.yahoo.com/news/rssindex","https://www.aaii.com/sentimentsurvey/rss"]},payrolls:{name:"Payrolls",urls:["https://www.bls.gov/feeds/news_release/empsit.rss","https://feeds.reuters.com/reuters/businessNews"]},"news-tone":{name:"News Tone",urls:["https://feeds.a.dj.com/rss/RSSMarketsMain.xml","https://feeds.reuters.com/reuters/businessNews"]}};async function l(e,t=6e3){let s=new AbortController,r=setTimeout(()=>s.abort(),t);try{return await fetch(e,{signal:s.signal,headers:{"user-agent":"Mozilla/5.0 (TopicFeed/1.0; +https://example.com)"}})}finally{clearTimeout(r)}}function o(e){try{let t=new URL(e);return`${t.origin}/favicon.ico`}catch{return null}}async function u(e){let t=(await Promise.allSettled(e.map(async e=>{let t=await a.parseURL(e),s=(t.title||"").replace(/RSS|Feed/gi,"").trim()||new URL(e).host;return(t.items||[]).map(e=>{let t;return t=null,e.enclosure?.url&&(t=e.enclosure.url),!t&&Array.isArray(e.enclosure)&&(t=e.enclosure[0]?.url),!t&&e["media:content"]?.url&&(t=e["media:content"].url),!t&&e["media:thumbnail"]?.url&&(t=e["media:thumbnail"].url),{title:String(e.title||""),link:e.link,pubDate:e.pubDate,source:s,image:t||null}})}))).flatMap(e=>"fulfilled"===e.status?e.value:[]).filter(e=>e?.title).sort((e,t)=>{let s=e.pubDate?Date.parse(e.pubDate):0;return(t.pubDate?Date.parse(t.pubDate):0)-s}),s=t.filter(e=>!e.image&&e.link).slice(0,24);for(let e of(await Promise.allSettled(s.map(async e=>{if(e.link)try{var t,s;let r=await l(e.link,6500);if(!r.ok){e.image=o(e.link)||"/crowned_x.svg";return}let i=(t=await r.text(),s=e.link,((...e)=>{for(let r of e){let e=t.match(r);if(e&&e[1]){let t=function(e,t){try{return new URL(e,t).toString()}catch{return e}}(e[1],s);if(!/sprite|logo|placeholder/i.test(t)&&!t.endsWith(".svg"))return t}}return null})(/<meta[^>]+property=["']og:image:secure_url["'][^>]+content=["']([^"']+)["']/i,/<meta[^>]+property=["']og:image["'][^>]+content=["']([^"']+)["']/i,/<meta[^>]+name=["']twitter:image["'][^>]+content=["']([^"']+)["']/i,/<meta[^>]+itemprop=["']image["'][^>]+content=["']([^"']+)["']/i,/<link[^>]+rel=["']image_src["'][^>]+href=["']([^"']+)["']/i)||null);e.image=i||o(e.link)||"/crowned_x.svg"}catch{e.image=o(e.link)||"/crowned_x.svg"}})),t))e.image||(e.image=e.link&&o(e.link)||"/crowned_x.svg");return t.slice(0,60)}async function p(e,t){let s=String(e.query.slug||"").toLowerCase(),r=n[s];if(!r)return void t.status(404).json({error:"Unknown topic",slug:s});try{let e=await u(r.urls);t.status(200).json({topic:r.name,slug:s,count:e.length,items:e})}catch(e){t.status(500).json({error:e?.message||"Failed to build topic feed",slug:s})}}e.s(["default",()=>p],59776);var c=e.i(59776),w=e.i(7031),m=e.i(81927),d=e.i(46432);let h=(0,i.hoist)(c,"default"),g=(0,i.hoist)(c,"config"),f=new r.PagesAPIRouteModule({definition:{kind:s.RouteKind.PAGES_API,page:"/api/topic/[slug]",pathname:"/api/topic/[slug]",bundlePath:"",filename:""},userland:c,distDir:".next",relativeProjectDir:""});async function x(e,s,r){f.isDev&&(0,d.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let i="/api/topic/[slug]";i=i.replace(/\/index$/,"")||"/";let a=await f.prepare(e,s,{srcPage:i});if(!a){s.statusCode=400,s.end("Bad Request"),null==r.waitUntil||r.waitUntil.call(r,Promise.resolve());return}let{query:n,params:l,prerenderManifest:o,routerServerContext:u}=a;try{let t=e.method||"GET",r=(0,w.getTracer)(),a=r.getActiveScopeSpan(),p=f.instrumentationOnRequestError.bind(f),c=async a=>f.render(e,s,{query:{...n,...l},params:l,allowedRevalidateHeaderKeys:[],multiZoneDraftMode:!1,trustHostHeader:!1,previewProps:o.preview,propagateError:!1,dev:f.isDev,page:"/api/topic/[slug]",internalRevalidate:null==u?void 0:u.revalidate,onError:(...t)=>p(e,...t)}).finally(()=>{if(!a)return;a.setAttributes({"http.status_code":s.statusCode,"next.rsc":!1});let e=r.getRootSpanAttributes();if(!e)return;if(e.get("next.span_type")!==m.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${e.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let n=e.get("next.route");if(n){let e=`${t} ${n}`;a.setAttributes({"next.route":n,"http.route":n,"next.span_name":e}),a.updateName(e)}else a.updateName(`${t} ${i}`)});a?await c(a):await r.withPropagatedContext(e.headers,()=>r.trace(m.BaseServerSpan.handleRequest,{spanName:`${t} ${i}`,kind:w.SpanKind.SERVER,attributes:{"http.method":t,"http.target":e.url}},c))}catch(e){if(f.isDev)throw e;(0,t.sendError)(s,500,"Internal Server Error")}finally{null==r.waitUntil||r.waitUntil.call(r,Promise.resolve())}}e.s(["config",0,g,"default",0,h,"handler",()=>x],27368)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__644fefa2._.js.map