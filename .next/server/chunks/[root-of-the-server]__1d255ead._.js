module.exports=[70406,(e,t,i)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},44509,e=>{"use strict";var t=e.i(26747),i=e.i(90406),a=e.i(44898),s=e.i(62950);let r=/\b(rise|rises|gain|gains|surge|surges|record|boom|improve|easing|beat|beats|strong|expansion)\b/i,n=/\b(fall|falls|drop|drops|slump|slumps|plunge|plunges|miss|misses|weak|contraction|downturn|crisis|strike|shutdown)\b/i,o={demographics:"demographics aging population labor market","tech-ai":"technology AI chips compute economy","climate-disaster":"climate disaster flood wildfire insurance costs economy",deglobalization:"deglobalization nearshoring trade fragmentation supply chains",regulation:"financial regulation policy banks markets","elections-policy":"election fiscal policy markets",energy:"oil gas energy prices OPEC economy",commodities:"commodities metals agriculture prices economy","supply-chains":"supply chain ports logistics delays costs","shipping-fx":"shipping freight Baltic Dry FX dollar","sanctions-trade":"sanctions export controls tariffs trade",housing:"housing mortgage affordability sales permits","central-banks":"central bank Federal Reserve rates policy markets","fiscal-debt":"fiscal deficit debt issuance treasury auctions","liquidity-nbfis":"liquidity money markets nonbank financials",credit:"credit conditions lending standards spreads defaults",inflation:"inflation CPI prices markets","gdp-growth":"GDP growth PMI ISM economy"};async function l(e){let t=`https://news.google.com/rss/search?q=${encodeURIComponent(e)}&hl=en-US&gl=US&ceid=US:en`,i=await fetch(t,{headers:{"User-Agent":"Mozilla/5.0 (CrownedX/1.0)"}});if(!i.ok)return[];let a=await i.text(),s=[];for(let e of a.split("<item>").slice(1).slice(0,20)){let t=/<title><!\[CDATA\[(.*?)\]\]><\/title>|<title>(.*?)<\/title>/i.exec(e),i=(t?.[1]||t?.[2]||"").replace(/&amp;/g,"&").trim();i&&s.push(i)}return s}async function c(e,t){try{let e=Object.keys(o),i={};await Promise.all(e.map(async e=>{let t=await l(o[e]);i[e]=function(e){if(!e.length)return 0;let t=0;for(let i of e)r.test(i)&&(t+=1),n.test(i)&&(t-=1);return Math.max(-1,Math.min(1,t/e.length))}(t)})),t.setHeader("Cache-Control","public, max-age=300, s-maxage=300, stale-while-revalidate=1800"),t.status(200).json({scores:i})}catch(e){t.status(200).json({scores:{}})}}e.s(["default",()=>c],45652);var d=e.i(45652),p=e.i(7031),u=e.i(81927),m=e.i(46432);let g=(0,s.hoist)(d,"default"),h=(0,s.hoist)(d,"config"),f=new a.PagesAPIRouteModule({definition:{kind:i.RouteKind.PAGES_API,page:"/api/heat",pathname:"/api/heat",bundlePath:"",filename:""},userland:d,distDir:".next",relativeProjectDir:""});async function y(e,i,a){f.isDev&&(0,m.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let s="/api/heat";s=s.replace(/\/index$/,"")||"/";let r=await f.prepare(e,i,{srcPage:s});if(!r){i.statusCode=400,i.end("Bad Request"),null==a.waitUntil||a.waitUntil.call(a,Promise.resolve());return}let{query:n,params:o,prerenderManifest:l,routerServerContext:c}=r;try{let t=e.method||"GET",a=(0,p.getTracer)(),r=a.getActiveScopeSpan(),d=f.instrumentationOnRequestError.bind(f),m=async r=>f.render(e,i,{query:{...n,...o},params:o,allowedRevalidateHeaderKeys:[],multiZoneDraftMode:!1,trustHostHeader:!1,previewProps:l.preview,propagateError:!1,dev:f.isDev,page:"/api/heat",internalRevalidate:null==c?void 0:c.revalidate,onError:(...t)=>d(e,...t)}).finally(()=>{if(!r)return;r.setAttributes({"http.status_code":i.statusCode,"next.rsc":!1});let e=a.getRootSpanAttributes();if(!e)return;if(e.get("next.span_type")!==u.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${e.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let n=e.get("next.route");if(n){let e=`${t} ${n}`;r.setAttributes({"next.route":n,"http.route":n,"next.span_name":e}),r.updateName(e)}else r.updateName(`${t} ${s}`)});r?await m(r):await a.withPropagatedContext(e.headers,()=>a.trace(u.BaseServerSpan.handleRequest,{spanName:`${t} ${s}`,kind:p.SpanKind.SERVER,attributes:{"http.method":t,"http.target":e.url}},m))}catch(e){if(f.isDev)throw e;(0,t.sendError)(i,500,"Internal Server Error")}finally{null==a.waitUntil||a.waitUntil.call(a,Promise.resolve())}}e.s(["config",0,h,"default",0,g,"handler",()=>y],44509)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__1d255ead._.js.map