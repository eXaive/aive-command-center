module.exports=[9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},41997,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={BailoutToCSRError:function(){return g},isBailoutToCSRError:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f="BAILOUT_TO_CLIENT_SIDE_RENDERING";class g extends Error{constructor(a){super(`Bail out to client-side rendering: ${a}`),this.reason=a,this.digest=f}}function h(a){return"object"==typeof a&&null!==a&&"digest"in a&&a.digest===f}},39630,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);function e({item:a}){var c;let d=a.image&&!a.isFavicon?a.image:"/crowned_x.svg",e=a.pubDate?new Date(a.pubDate).toLocaleString():void 0;return(0,b.jsx)("a",{href:a.link||"#",target:"_blank",rel:"noreferrer",className:"group rounded-xl border bg-white overflow-hidden hover:shadow-sm transition",title:a.title,children:(0,b.jsxs)("div",{className:"flex gap-0",children:[(0,b.jsx)("div",{className:"w-40 h-28 bg-slate-100 flex-shrink-0 overflow-hidden",children:(0,b.jsx)("img",{src:d,alt:"",className:"w-full h-full object-cover group-hover:scale-[1.03] transition"})}),(0,b.jsxs)("div",{className:"flex-1 p-3 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"inline-flex h-5 min-w-[38px] items-center justify-center rounded-full px-2 text-[11px] font-semibold border "+((c=a.sentiment||0)>=.1?"bg-blue-100 text-blue-700 border-blue-200":c<=-.1?"bg-red-100 text-red-700 border-red-200":"bg-slate-100 text-slate-700 border-slate-200"),title:`Sentiment ${a.sentiment?.toFixed?.(2)??"0.00"}`,children:(a.sentiment??0).toFixed(1)}),(0,b.jsx)("div",{className:"text-[11px] text-slate-500",children:function(a){try{if(!a)return"";return new URL(a).hostname.replace(/^www\./,"")}catch{return""}}(a.link)})]}),(0,b.jsx)("h3",{className:"mt-1 font-semibold text-slate-900 line-clamp-2",children:a.title}),a.summary&&(0,b.jsx)("p",{className:"text-sm text-slate-600 mt-1 line-clamp-2",children:a.summary}),(0,b.jsx)("div",{className:"text-[11px] text-slate-500 mt-1",children:e})]})]})})}let f={geopolitics:{title:"Geopolitics",q:"geopolitics"},energy:{title:"Energy",q:"energy oil OPEC"},"tech-ai":{title:"Technology & AI",q:"technology AI chips"},climate:{title:"Climate",q:"climate emissions carbon"},elections:{title:"Elections",q:"election politics vote"},"btc-flows":{title:"BTC Flows",q:"bitcoin flow ETF"},"supply-chains":{title:"Supply Chains",q:"supply chain shipping"},deglobalization:{title:"Globalization/Deglobalization",q:"deglobalization trade"},demographics:{title:"Demographics",q:"population aging immigration"},housing:{title:"Housing",q:"housing mortgage"},regulation:{title:"Regulation",q:"regulation policy"},"fx-dollar":{title:"FX & Dollar",q:"DXY dollar FX"},rates:{title:"Central Bank Rates / FOMC",q:"FOMC interest rates yields"},liquidity:{title:"Liquidity",q:"liquidity market plumbing"},credit:{title:"Credit",q:"credit spreads HY IG"},gdp:{title:"GDP / Growth",q:"GDP growth PMI"},sentiment:{title:"Sentiment",q:"market sentiment fear greed"},dxy:{title:"DXY",q:"US dollar DXY"},cpi:{title:"CPI / Inflation",q:"CPI inflation PCE"},payrolls:{title:"Payrolls / Jobs",q:"payrolls nfp unemployment"},inflation:{title:"Inflation (General)",q:"inflation prices"},oil:{title:"Oil",q:"oil crude brent wti"},"news-tone":{title:"News Tone",q:"markets news"},equities:{title:"Equities",q:"stocks equities"},volatility:{title:"Volatility / Crash Watch",q:"volatility VIX crash"},positioning:{title:"Positioning",q:"CTAs hedge funds positioning"}};function g({values:a}){if(!a.length)return null;let c=Math.min(...a,0),d=Math.max(...a,0)-c||1,e=a.map((b,e)=>{let f=6+208*e/Math.max(a.length-1,1);return`${e?"L":"M"}${f},${46-(b-c)*40/d}`}).join(" ");return(0,b.jsxs)("svg",{width:220,height:52,className:"text-blue-600",children:[(0,b.jsx)("rect",{x:0,y:0,width:220,height:52,fill:"white"}),(0,b.jsx)("path",{d:e,fill:"none",stroke:"currentColor",strokeWidth:2})]})}function h({params:a}){let h=(0,d.useRouter)(),i=(0,d.useSearchParams)(),j=a.slug,k=f[j]||{title:j},l=(i.get("asset")||"GOLD").toUpperCase(),m=(i.get("region")||"ALL").toUpperCase(),n=i.get("date")||new Date().toISOString().slice(0,10),[o,p]=c.useState([]),[q,r]=c.useState(!1),[s,t]=c.useState(null),[u,v]=c.useState(k.q||"");c.useEffect(()=>{let a=!0;r(!0),t(null);let b=new URLSearchParams;return b.set("asset",l),u&&b.set("q",u),fetch(`/api/news?${b.toString()}`).then(async a=>{if(!a.ok)throw Error(`${a.status}`);return a.json()}).then(b=>{a&&p(b.items||[])}).catch(b=>a&&t(b?.message||"Failed to load")).finally(()=>a&&r(!1)),()=>{a=!1}},[l,u]);let w=c.useMemo(()=>{if(!o.length)return{avg:0,min:0,max:0,series:[]};let a=o.map(a=>Number(a.sentiment||0));return{avg:a.reduce((a,b)=>a+b,0)/a.length,min:Math.min(...a),max:Math.max(...a),series:a.slice(0,30).reverse()}},[o]);return(0,b.jsx)("main",{className:"min-h-screen bg-slate-50",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-6 pt-6 pb-16",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-slate-500 mb-1",children:(0,b.jsx)("button",{onClick:()=>h.push(`/?asset=${encodeURIComponent(l)}`),className:"underline underline-offset-2 hover:text-slate-700",children:"← Home"})}),(0,b.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900",children:k.title}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,b.jsx)("span",{className:"px-2 py-1 rounded-md bg-slate-900 text-white text-sm font-semibold",children:l}),(0,b.jsxs)("span",{className:"px-2 py-1 rounded-md border text-sm text-slate-700",children:["Region: ",m]}),(0,b.jsxs)("span",{className:"px-2 py-1 rounded-md border text-sm text-slate-700",children:["Date: ",n]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>h.push(`/focus?asset=${encodeURIComponent(l)}&topic=${encodeURIComponent(j)}`),className:"px-3 py-2 rounded-md border bg-white hover:bg-slate-50 text-sm",children:"Breakdown"}),(0,b.jsx)("a",{href:`/api/brief/topic?topic=${encodeURIComponent(j)}&asset=${encodeURIComponent(l)}&date=${encodeURIComponent(n)}`,className:"px-3 py-2 rounded-md border bg-white hover:bg-slate-50 text-sm",title:"Download PDF summary",children:"Summary (PDF)"})]})]}),(0,b.jsx)("div",{className:"mt-4 rounded-xl border bg-white p-3",children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"text-sm text-slate-700",children:"Filter:"}),(0,b.jsx)("input",{value:u,onChange:a=>v(a.target.value),placeholder:"keywords (e.g., inflation OPEC chip)",className:"px-3 py-1.5 rounded-md border text-sm",style:{minWidth:260}}),(0,b.jsx)("button",{onClick:()=>v(k.q||""),className:"px-2 py-1 rounded-md border text-sm hover:bg-slate-50",title:"Reset to default",children:"Reset"})]}),(0,b.jsxs)("div",{className:"hidden md:flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"text-xs text-slate-500",children:["Avg: ",(0,b.jsx)("b",{children:w.avg.toFixed(2)})," • Min: ",w.min.toFixed(2)," • Max: ",w.max.toFixed(2)]}),(0,b.jsx)(g,{values:w.series})]})]})}),(0,b.jsxs)("div",{className:"mt-4",children:[q&&(0,b.jsx)("div",{className:"text-sm text-slate-600",children:"Loading…"}),s&&!q&&(0,b.jsxs)("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded p-2",children:["Error: ",s]}),!q&&!s&&(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:o.map((a,c)=>(0,b.jsx)(e,{item:a},c))}),!q&&!s&&0===o.length&&(0,b.jsx)("div",{className:"text-sm text-slate-600",children:"No results found for this filter."})]})]})})}a.s(["default",()=>h],39630)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__b6f33b7c._.js.map