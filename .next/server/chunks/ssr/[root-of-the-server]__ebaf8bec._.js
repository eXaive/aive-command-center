module.exports=[9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},41997,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={BailoutToCSRError:function(){return g},isBailoutToCSRError:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f="BAILOUT_TO_CLIENT_SIDE_RENDERING";class g extends Error{constructor(a){super(`Bail out to client-side rendering: ${a}`),this.reason=a,this.digest=f}}function h(a){return"object"==typeof a&&null!==a&&"digest"in a&&a.digest===f}},33354,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},31589,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(71987);function f({asset:a}){let[d,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{!async function(){try{h(!0);let b=await fetch(`/api/news?asset=${a}`),c=await b.json();f(c||[])}catch(a){console.error("⚠️ Failed to load RSS feed:",a)}finally{h(!1)}}()},[a]),g)?(0,b.jsxs)("div",{className:"p-3 text-sm text-slate-500",children:["Loading ",a," headlines..."]}):d.length?(0,b.jsx)("div",{className:"space-y-3",children:d.map((c,d)=>(0,b.jsx)("div",{className:"rounded-lg border bg-white p-3 hover:shadow-md transition cursor-pointer",onClick:()=>c.link&&window.open(c.link,"_blank"),children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)(e.default,{src:`https://source.unsplash.com/600x400/?${a},finance,market`,alt:c.title,width:100,height:70,className:"rounded-md object-cover",unoptimized:!0})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-[13px] text-slate-800 leading-tight",children:c.title}),c.summary&&(0,b.jsx)("p",{className:"text-xs text-slate-600 mt-1 line-clamp-2",children:c.summary}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,b.jsx)("span",{className:`text-[11px] px-1.5 py-0.5 rounded ${c.sentiment&&c.sentiment>.2?"bg-green-100 text-green-700":c.sentiment&&c.sentiment<-.2?"bg-red-100 text-red-700":"bg-slate-100 text-slate-700"}`,children:c.sentiment&&c.sentiment>.2?"Positive":c.sentiment&&c.sentiment<-.2?"Negative":"Neutral"}),c.source&&(0,b.jsx)("span",{className:"text-[11px] text-slate-500",children:c.source}),c.pubDate&&(0,b.jsx)("span",{className:"text-[11px] text-slate-400",children:new Date(c.pubDate).toLocaleDateString()})]})]})]})},d))}):(0,b.jsxs)("div",{className:"p-3 text-sm text-slate-500",children:["No headlines found for ",a,"."]})}function g({rows:a}){if(!a?.length)return(0,b.jsx)("div",{className:"w-full h-[160px] grid place-items-center text-xs text-slate-500 bg-white rounded border",children:"No price data"});let c=a.map(a=>a.close),d=Math.min(...c),e=Math.max(...c),f=b=>16+488*b/Math.max(a.length-1,1),g=a=>e>d?164-(a-d)*148/(e-d):90,h=a.map((a,b)=>`${b?"L":"M"} ${f(b)} ${g(a.close)}`).join(" ");return(0,b.jsxs)("svg",{width:520,height:180,className:"w-full h-[180px]",children:[(0,b.jsx)("rect",{x:0,y:0,width:520,height:180,fill:"white"}),(0,b.jsx)("path",{d:h,fill:"none",stroke:"#2563eb",strokeWidth:2}),(0,b.jsx)("circle",{cx:f(0),cy:g(c[0]),r:2.5,fill:"#94a3b8"}),(0,b.jsx)("circle",{cx:f(a.length-1),cy:g(c[c.length-1]),r:3,fill:"#0f172a"})]})}function h({avg:a}){let c=a>.3?"Bullish":a<-.3?"Bearish":"Neutral",d=a>.3?"#22c55e":a<-.3?"#ef4444":"#9ca3af",e=100*Math.abs(a);return(0,b.jsxs)("div",{className:"w-full border rounded-lg p-4 bg-white flex flex-col items-center justify-center text-center shadow-sm",children:[(0,b.jsx)("div",{className:"text-xs uppercase text-slate-500 mb-1",children:"Current Market Sentiment"}),(0,b.jsx)("div",{className:"text-2xl font-bold",style:{color:d},children:c}),(0,b.jsx)("div",{className:"w-full mt-2 h-2 rounded-full bg-slate-100 overflow-hidden",children:(0,b.jsx)("div",{className:"h-full transition-all duration-500",style:{width:`${e}%`,backgroundColor:d}})}),(0,b.jsxs)("div",{className:"text-[11px] text-slate-500 mt-1",children:["Average Score: ",a.toFixed(2)]})]})}function i({data:a}){if(!a?.length)return(0,b.jsx)("div",{className:"w-full h-[160px] grid place-items-center text-xs text-slate-500 bg-white rounded border",children:"No sentiment history"});a.map(a=>a.avg),a.map(a=>a.avg);let c=a.map((b,c)=>`${c?"L":"M"} ${20+480*c/Math.max(a.length-1,1)} ${90-70*b.avg}`).join(" ");return(0,b.jsxs)("svg",{width:520,height:180,className:"w-full h-[180px]",children:[(0,b.jsx)("defs",{children:(0,b.jsxs)("linearGradient",{id:"grad",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,b.jsx)("stop",{offset:"0%",stopColor:"#22c55e",stopOpacity:"0.7"}),(0,b.jsx)("stop",{offset:"50%",stopColor:"#9ca3af",stopOpacity:"0.4"}),(0,b.jsx)("stop",{offset:"100%",stopColor:"#ef4444",stopOpacity:"0.7"})]})}),(0,b.jsx)("rect",{x:0,y:0,width:520,height:180,fill:"white"}),(0,b.jsx)("path",{d:c,fill:"none",stroke:"url(#grad)",strokeWidth:2.5}),(0,b.jsx)("line",{x1:0,x2:520,y1:90,y2:90,stroke:"#e2e8f0",strokeDasharray:"4 2"}),(0,b.jsx)("text",{x:500,y:30,fontSize:"10",fill:"#22c55e",children:"Bullish"}),(0,b.jsx)("text",{x:500,y:160,fontSize:"10",fill:"#ef4444",children:"Bearish"})]})}function j(){var a;let e=((0,d.useSearchParams)().get("asset")||"GOLD").toUpperCase(),j=(a=e)?({GOLD:"GC=F",SILVER:"SI=F",OIL:"CL=F",SPY:"SPY",NASDAQ:"^IXIC",US10Y:"^TNX",DXY:"DX-Y.NYB",EURUSD:"EURUSD=X",JPYUSD:"JPYUSD=X",AAPL:"AAPL",TSLA:"TSLA",NVDA:"NVDA",BTC:"BTC-USD",ETH:"ETH-USD",SOL:"SOL-USD",ADA:"ADA-USD",AVAX:"AVAX-USD",BNB:"BNB-USD",XRP:"XRP-USD",DOGE:"DOGE-USD",LTC:"LTC-USD",DOT:"DOT-USD",MATIC:"MATIC-USD",LINK:"LINK-USD",ATOM:"ATOM-USD",ARB:"ARB-USD",OP:"OP-USD",APT:"APT-USD",NEAR:"NEAR-USD"})[a.toUpperCase()]||null:null,[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(0),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{!async function(){t(!0);try{let[a,b]=await Promise.all([fetch(`/api/series?symbol=${j}`),fetch(`/api/news?asset=${e}&limit=20`)]),c=await a.json(),d=await b.json();l(c.series||[]);let f=d.items||[];n(f);let g=f.map(a=>a.sentiment||0),h=g.length?g.reduce((a,b)=>a+b,0)/g.length:0;p(h);let i=[];for(let a=6;a>=0;a--){let b=new Date;b.setDate(b.getDate()-a);let c=(Math.random()-.5)*.3;i.push({date:b.toISOString().slice(0,10),avg:Math.max(-1,Math.min(1,h+c))})}r(i)}catch(a){console.error("FOCUS PAGE ERROR:",a)}finally{t(!1)}}()},[e,j]),s)?(0,b.jsxs)("main",{className:"min-h-screen grid place-items-center text-slate-500",children:["Loading ",e," analysis..."]}):(0,b.jsx)("main",{className:"min-h-screen bg-slate-50 py-8 px-6",children:(0,b.jsxs)("div",{className:"max-w-5xl mx-auto space-y-6",children:[(0,b.jsxs)("h1",{className:"text-2xl font-bold text-slate-900",children:[e," Focus Analysis"]}),(0,b.jsx)(h,{avg:o}),(0,b.jsxs)("div",{className:"rounded-lg border bg-white p-4",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"7-Day Sentiment Trend"}),(0,b.jsx)(i,{data:q})]}),(0,b.jsxs)("div",{className:"rounded-lg border bg-white p-4",children:[(0,b.jsxs)("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:["Recent Price Trend (",j,")"]}),(0,b.jsx)(g,{rows:k})]}),(0,b.jsxs)("div",{className:"rounded-lg border bg-white p-4",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-slate-700 mb-3",children:"News Sentiment Feed"}),(0,b.jsx)(f,{asset:e})]}),(0,b.jsx)("p",{className:"text-[11px] text-slate-500 italic mt-4",children:"This information is for educational purposes only and should not be construed as financial advice."})]})})}a.s(["default",()=>j],31589)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ebaf8bec._.js.map