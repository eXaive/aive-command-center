module.exports=[70406,(e,t,a)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},14747,(e,t,a)=>{t.exports=e.x("path",()=>require("path"))},22734,(e,t,a)=>{t.exports=e.x("fs",()=>require("fs"))},54799,(e,t,a)=>{t.exports=e.x("crypto",()=>require("crypto"))},71505,e=>{"use strict";var t=e.i(26747),a=e.i(90406),r=e.i(44898),i=e.i(62950),s=e.i(22734),n=e.i(14747),l=e.i(54799);let o=n.default.join(process.cwd(),".next","cache","gmmf");async function u(e){await s.promises.mkdir(e,{recursive:!0}).catch(()=>{})}function d(e){let t=l.default.createHash("sha1").update(e).digest("hex");return n.default.join(o,t+".json")}async function c(e){try{let t=d(e),a=await s.promises.readFile(t,"utf8"),r=JSON.parse(a);if(!r?.savedAt||!r?.ttl||(Date.now()-r.savedAt)/1e3>r.ttl)return null;return r.payload}catch{return null}}async function p(e,t,a){try{await u(o);let r=d(e),i={savedAt:Date.now(),ttl:a,payload:t};await s.promises.writeFile(r,JSON.stringify(i),"utf8")}catch{}}async function S(t,a){var r;let i=String(t.query.asset||"").toUpperCase(),s=String(t.query.symbol||"").toUpperCase()||((r=i)?({GOLD:"GC=F",SILVER:"SI=F",OIL:"CL=F",SPY:"SPY",NASDAQ:"^IXIC",US10Y:"^TNX",DXY:"DX-Y.NYB",EURUSD:"EURUSD=X",JPYUSD:"JPYUSD=X",AAPL:"AAPL",TSLA:"TSLA",NVDA:"NVDA",BTC:"BTC-USD",ETH:"ETH-USD",SOL:"SOL-USD",ADA:"ADA-USD",AVAX:"AVAX-USD",BNB:"BNB-USD",XRP:"XRP-USD",DOGE:"DOGE-USD",LTC:"LTC-USD",DOT:"DOT-USD",MATIC:"MATIC-USD",LINK:"LINK-USD",ATOM:"ATOM-USD",ARB:"ARB-USD",OP:"OP-USD",APT:"APT-USD",NEAR:"NEAR-USD"})[r.toUpperCase()]||null:null)||"SPY",n=`yf:${s}`,l=await c(n);if(l)return void a.status(200).json({...l,source:"cache"});try{let t=await e.A(93395).catch(()=>null),r=t?.default;if(r){let e=new Date,t=new Date(e.getTime()-31536e6),l=(await r.historical(s,{period1:t.toISOString().slice(0,10),period2:e.toISOString().slice(0,10)})||[]).filter(e=>e?.date&&Number.isFinite(e?.close)).map(e=>({date:new Date(e.date).toISOString().slice(0,10),close:Number(e.close)})),o={symbol:s,asset:i||void 0,lastClose:l.length?l[l.length-1].close:null,series:l,source:"yahoo-finance2"};await p(n,o,900),a.status(200).json(o);return}}catch{}let o=[],u=new Date,d=100;for(let e=180;e>=0;e--){let t=new Date(u.getTime()-24*e*36e5);0!==t.getDay()&&6!==t.getDay()&&(d*=1+(Math.random()-.5)*.01+.001*Math.sin(e/12),o.push({date:t.toISOString().slice(0,10),close:Number(d.toFixed(2))}))}let S={symbol:s,asset:i||void 0,lastClose:o.length?o[o.length-1].close:null,series:o,source:"synthetic"};await p(n,S,900),a.status(200).json(S)}e.s(["default",()=>S],67704);var D=e.i(67704),h=e.i(7031),f=e.i(81927),A=e.i(46432);let m=(0,i.hoist)(D,"default"),g=(0,i.hoist)(D,"config"),v=new r.PagesAPIRouteModule({definition:{kind:a.RouteKind.PAGES_API,page:"/api/series",pathname:"/api/series",bundlePath:"",filename:""},userland:D,distDir:".next",relativeProjectDir:""});async function w(e,a,r){v.isDev&&(0,A.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let i="/api/series";i=i.replace(/\/index$/,"")||"/";let s=await v.prepare(e,a,{srcPage:i});if(!s){a.statusCode=400,a.end("Bad Request"),null==r.waitUntil||r.waitUntil.call(r,Promise.resolve());return}let{query:n,params:l,prerenderManifest:o,routerServerContext:u}=s;try{let t=e.method||"GET",r=(0,h.getTracer)(),s=r.getActiveScopeSpan(),d=v.instrumentationOnRequestError.bind(v),c=async s=>v.render(e,a,{query:{...n,...l},params:l,allowedRevalidateHeaderKeys:[],multiZoneDraftMode:!1,trustHostHeader:!1,previewProps:o.preview,propagateError:!1,dev:v.isDev,page:"/api/series",internalRevalidate:null==u?void 0:u.revalidate,onError:(...t)=>d(e,...t)}).finally(()=>{if(!s)return;s.setAttributes({"http.status_code":a.statusCode,"next.rsc":!1});let e=r.getRootSpanAttributes();if(!e)return;if(e.get("next.span_type")!==f.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${e.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let n=e.get("next.route");if(n){let e=`${t} ${n}`;s.setAttributes({"next.route":n,"http.route":n,"next.span_name":e}),s.updateName(e)}else s.updateName(`${t} ${i}`)});s?await c(s):await r.withPropagatedContext(e.headers,()=>r.trace(f.BaseServerSpan.handleRequest,{spanName:`${t} ${i}`,kind:h.SpanKind.SERVER,attributes:{"http.method":t,"http.target":e.url}},c))}catch(e){if(v.isDev)throw e;(0,t.sendError)(a,500,"Internal Server Error")}finally{null==r.waitUntil||r.waitUntil.call(r,Promise.resolve())}}e.s(["config",0,g,"default",0,m,"handler",()=>w],71505)},93395,e=>{e.v(t=>Promise.all(["server/chunks/[externals]_yahoo-finance2_db7c5e74._.js"].map(t=>e.l(t))).then(()=>t(73008)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e8f16a57._.js.map