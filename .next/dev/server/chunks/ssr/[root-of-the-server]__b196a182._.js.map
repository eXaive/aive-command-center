{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/GMMF/gmmf_donut_nextjs/components/GlobeView.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport dynamic from \"next/dynamic\";\r\nimport { createClient } from \"@supabase/supabase-js\";\r\n\r\n// Load Globe only on the client side\r\nconst Globe = dynamic(() => import(\"react-globe.gl\"), { ssr: false });\r\n\r\nconst supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n);\r\n\r\ninterface CountryData {\r\n  id: number;\r\n  name: string;\r\n  region: string;\r\n  risk_score: number;\r\n  confidence_score?: number; // for future AI verification\r\n}\r\n\r\ninterface GlobeViewProps {\r\n  width?: number;\r\n  height?: number;\r\n  regionPing?: string;\r\n}\r\n\r\nconst COUNTRY_COORDS: Record<string, { lat: number; lng: number }> = {\r\n  US: { lat: 37.0902, lng: -95.7129 },\r\n  CN: { lat: 35.8617, lng: 104.1954 },\r\n  IN: { lat: 20.5937, lng: 78.9629 },\r\n  DE: { lat: 51.1657, lng: 10.4515 },\r\n  JP: { lat: 36.2048, lng: 138.2529 },\r\n  BR: { lat: -14.235, lng: -51.9253 },\r\n  NG: { lat: 9.082, lng: 8.6753 },\r\n  RU: { lat: 61.524, lng: 105.3188 },\r\n  ZA: { lat: -30.5595, lng: 22.9375 },\r\n  AU: { lat: -25.2744, lng: 133.7751 },\r\n};\r\n\r\nexport default function GlobeView({\r\n  width = 320,\r\n  height = 320,\r\n  regionPing,\r\n}: GlobeViewProps) {\r\n  const globeRef = useRef<any>();\r\n  const [data, setData] = useState<CountryData[]>([]);\r\n  const [hovered, setHovered] = useState<string | null>(null);\r\n  const [angle, setAngle] = useState(0);\r\n\r\n  // === Fetch from Supabase ===\r\n  async function loadData() {\r\n    const { data, error } = await supabase.from(\"countries\").select(\"*\");\r\n    if (error) console.error(\"‚ùå Error loading Supabase data:\", error);\r\n    if (data) setData(data);\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n\r\n    const channel = supabase\r\n      .channel(\"countries-live\")\r\n      .on(\r\n        \"postgres_changes\",\r\n        { event: \"UPDATE\", schema: \"public\", table: \"countries\" },\r\n        (payload) => {\r\n          const updated = payload.new as CountryData;\r\n          setData((prev) =>\r\n            prev.map((c) => (c.id === updated.id ? updated : c))\r\n          );\r\n        }\r\n      )\r\n      .subscribe();\r\n\r\n    return () => {\r\n      supabase.removeChannel(channel);\r\n    };\r\n  }, []);\r\n\r\n  // === Build globe labels ===\r\n  const labels = Object.keys(COUNTRY_COORDS).map((code) => {\r\n    const match = data.find(\r\n      (c) => c.region?.toUpperCase() === code.toUpperCase()\r\n    );\r\n    const score = match?.risk_score ?? 0;\r\n    const confidence = match?.confidence_score ?? 70; // AI tie-in point\r\n\r\n    // === AI-inspired color logic ===\r\n    let color = \"rgba(147,197,253,0.9)\"; // Stable\r\n    if (confidence < 40) color = \"rgba(239,68,68,0.9)\"; // Red ‚Äì Low confidence\r\n    else if (confidence < 70) color = \"rgba(251,191,36,0.9)\"; // Yellow ‚Äì Medium\r\n    else if (score >= 80) color = \"rgba(255,100,100,0.9)\"; // Override: High risk\r\n    else if (score >= 60) color = \"rgba(255,200,100,0.9)\";\r\n\r\n    return {\r\n      ...COUNTRY_COORDS[code],\r\n      text: code,\r\n      size: hovered === code ? 3.2 : 1.6,\r\n      color: hovered === code ? \"rgba(255,255,255,1)\" : color,\r\n      risk_score: score,\r\n      confidence_score: confidence,\r\n      name: match?.name || code,\r\n    };\r\n  });\r\n\r\n  // === Auto-focus on selected region ===\r\n  useEffect(() => {\r\n    if (!globeRef.current) return;\r\n    if (regionPing && COUNTRY_COORDS[regionPing]) {\r\n      const coords = COUNTRY_COORDS[regionPing];\r\n      globeRef.current.pointOfView(\r\n        { lat: coords.lat, lng: coords.lng, altitude: 1.5 },\r\n        1500\r\n      );\r\n    }\r\n  }, [regionPing]);\r\n\r\n  // === Subtle auto-rotation ===\r\n  useEffect(() => {\r\n    const globe = globeRef.current;\r\n    if (!globe) return;\r\n    const controls = globe.controls();\r\n    controls.autoRotate = true;\r\n    controls.autoRotateSpeed = 0.25; // gentle slow spin\r\n    globe.pointOfView({ altitude: 2.4 });\r\n  }, []);\r\n\r\n  // === Radar sweep rotation ===\r\n  useEffect(() => {\r\n    const timer = setInterval(() => {\r\n      setAngle((prev) => (prev + 2) % 360);\r\n    }, 100);\r\n    return () => clearInterval(timer);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      {/* === Globe === */}\r\n      <Globe\r\n        ref={globeRef}\r\n        width={width}\r\n        height={height}\r\n        backgroundColor=\"rgba(0,0,0,0)\"\r\n        globeImageUrl=\"//unpkg.com/three-globe/example/img/earth-dark.jpg\"\r\n        bumpImageUrl=\"//unpkg.com/three-globe/example/img/earth-topology.png\"\r\n        showAtmosphere\r\n        atmosphereColor=\"lightskyblue\"\r\n        atmosphereAltitude={0.2}\r\n        labelsData={labels}\r\n        labelLat={(d: any) => d.lat}\r\n        labelLng={(d: any) => d.lng}\r\n        labelText={(d: any) => d.text}\r\n        labelSize={(d: any) => d.size}\r\n        labelColor={(d: any) => d.color}\r\n        labelDotRadius={0.6}\r\n        labelResolution={2}\r\n        animateIn\r\n        onLabelHover={(label: any) => setHovered(label ? label.text : null)}\r\n        onLabelClick={(label: any) => setHovered(label.text)}\r\n        labelAltitude={(d: any) => (hovered === d.text ? 0.05 : 0.01)}\r\n      />\r\n\r\n      {/* === Tooltip on hover === */}\r\n      {hovered && (\r\n        <div className=\"absolute -top-10 left-1/2 -translate-x-1/2 bg-slate-900/90 text-slate-100 text-xs rounded-md px-3 py-2 shadow-lg backdrop-blur-sm border border-slate-700 pointer-events-none animate-fade\">\r\n          {(() => {\r\n            const country = labels.find((l) => l.text === hovered);\r\n            const risk = country?.risk_score ?? 0;\r\n            const conf = country?.confidence_score ?? 70;\r\n            const status =\r\n              risk >= 80\r\n                ? \"‚ö†Ô∏è High Risk\"\r\n                : risk >= 60\r\n                ? \"üü° Moderate\"\r\n                : \"üü¶ Stable\";\r\n            return (\r\n              <div>\r\n                <div className=\"font-semibold text-sm\">{country?.name}</div>\r\n                <div className=\"text-amber-300\">\r\n                  Risk: {risk} | Confidence: {conf}%\r\n                </div>\r\n                <div className=\"text-slate-400\">{status}</div>\r\n              </div>\r\n            );\r\n          })()}\r\n        </div>\r\n      )}\r\n\r\n      {/* === Radar sweep overlay === */}\r\n      <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\r\n        <div className=\"w-[160%] h-[160%] rounded-full bg-[conic-gradient(from_0deg,rgba(59,130,246,0.2)_0deg,rgba(250,204,21,0.25)_60deg,transparent_120deg)] animate-radar blur-xl opacity-40\" />\r\n        <div\r\n          className=\"absolute w-4 h-4 rounded-full bg-amber-300 blur-md opacity-80 animate-pulse\"\r\n          style={{\r\n            transform: `rotate(${angle}deg) translateX(120px)`,\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      {/* === Legend Overlay === */}\r\n      <div className=\"absolute top-3 right-3 bg-white/80 backdrop-blur-sm border border-slate-200 rounded-md text-[11px] text-slate-700 p-2 shadow-md\">\r\n        <div className=\"font-semibold text-[12px] mb-1 text-slate-800\">\r\n          Legend\r\n        </div>\r\n        <div className=\"flex items-center gap-1\">\r\n          <span className=\"w-3 h-3 rounded-full bg-blue-400\" /> <span>Stable</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-1\">\r\n          <span className=\"w-3 h-3 rounded-full bg-amber-400\" /> <span>Moderate</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-1\">\r\n          <span className=\"w-3 h-3 rounded-full bg-red-500\" /> <span>High Risk</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* === Animations === */}\r\n      <style jsx global>{`\r\n        @keyframes fade {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateY(-4px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n        .animate-fade {\r\n          animation: fade 0.3s ease-out forwards;\r\n        }\r\n\r\n        @keyframes radar {\r\n          0% {\r\n            transform: rotate(0deg);\r\n          }\r\n          100% {\r\n            transform: rotate(360deg);\r\n          }\r\n        }\r\n        .animate-radar {\r\n          animation: radar 6s linear infinite;\r\n          transform-origin: center;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 413, "column": 0}, "map": {"version":3,"sources":["file:///C:/GMMF/gmmf_donut_nextjs/components/SubmitIntel.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { createClient } from \"@supabase/supabase-js\";\r\n\r\nconst supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n);\r\n\r\nexport default function SubmitIntel() {\r\n  const [headline, setHeadline] = useState(\"\");\r\n  const [summary, setSummary] = useState(\"\");\r\n  const [region, setRegion] = useState(\"\");\r\n  const [sentiment, setSentiment] = useState(\"Neutral\");\r\n  const [impact, setImpact] = useState(50);\r\n  const [loading, setLoading] = useState(false);\r\n  const [recording, setRecording] = useState(false);\r\n  const [analysis, setAnalysis] = useState<any>(null);\r\n  const [timeline, setTimeline] = useState<number[]>([]);\r\n  const [intelLog, setIntelLog] = useState<any[]>([]);\r\n  const [mediaRecorder, setMediaRecorder] = useState<MediaRecorder | null>(null);\r\n\r\n  // === Predictive timeline generator ===\r\n  useEffect(() => {\r\n    if (analysis?.confidence) {\r\n      const base = analysis.confidence;\r\n      const data = Array.from({ length: 9 }, (_, i) =>\r\n        Math.max(10, base - i * (Math.random() * 8 + 4))\r\n      );\r\n      setTimeline(data);\r\n    }\r\n  }, [analysis]);\r\n\r\n  // === Load last 5 intel from Supabase ===\r\n  async function loadIntelLog() {\r\n    const { data, error } = await supabase\r\n      .from(\"intel_history\")\r\n      .select(\"*\")\r\n      .order(\"created_at\", { ascending: false })\r\n      .limit(5);\r\n    if (!error && data) setIntelLog(data);\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadIntelLog();\r\n  }, []);\r\n\r\n  // === Handle voice recording ===\r\n  const startRecording = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      const recorder = new MediaRecorder(stream);\r\n      const chunks: any[] = [];\r\n      recorder.ondataavailable = (e) => chunks.push(e.data);\r\n      recorder.onstop = async () => {\r\n        const blob = new Blob(chunks, { type: \"audio/webm\" });\r\n        const formData = new FormData();\r\n        formData.append(\"file\", blob);\r\n        formData.append(\"model\", \"whisper-1\");\r\n\r\n        const res = await fetch(\"https://api.openai.com/v1/audio/transcriptions\", {\r\n          method: \"POST\",\r\n          headers: { Authorization: `Bearer ${process.env.NEXT_PUBLIC_OPENAI_KEY}` },\r\n          body: formData,\r\n        });\r\n\r\n        const data = await res.json();\r\n        if (data.text) setSummary(data.text);\r\n      };\r\n      recorder.start();\r\n      setRecording(true);\r\n      setMediaRecorder(recorder);\r\n    } catch (err) {\r\n      console.error(\"üé§ Voice record error:\", err);\r\n    }\r\n  };\r\n\r\n  const stopRecording = () => {\r\n    if (mediaRecorder && recording) {\r\n      mediaRecorder.stop();\r\n      setRecording(false);\r\n    }\r\n  };\r\n\r\n  // === Submit new intel to AIVE ===\r\n  const handleSubmit = async (e: any) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      const res = await fetch(process.env.NEXT_PUBLIC_AIVE_FUNCTION_URL!, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ headline, summary, region, sentiment, impact }),\r\n      });\r\n\r\n      const data = await res.json();\r\n      setAnalysis(data);\r\n\r\n      // Save to memory\r\n      if (data.confidence) {\r\n        const { error } = await supabase.from(\"intel_history\").insert([\r\n          {\r\n            headline,\r\n            summary,\r\n            region,\r\n            sentiment,\r\n            impact,\r\n            confidence: data.confidence,\r\n          },\r\n        ]);\r\n        if (error) console.error(\"üß† Memory insert error:\", error);\r\n        else loadIntelLog(); // Refresh memory log\r\n      }\r\n\r\n      // Voice feedback\r\n      if (data.insights) {\r\n        const utter = new SpeechSynthesisUtterance(data.insights);\r\n        utter.voice = speechSynthesis\r\n          .getVoices()\r\n          .find((v) => v.name.includes(\"Female\"))!;\r\n        utter.pitch = 1.1;\r\n        utter.rate = 1.0;\r\n        speechSynthesis.speak(utter);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"‚ùå A.I.V.E. analysis failed:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full max-w-xl mx-auto bg-slate-900/80 backdrop-blur-lg rounded-2xl border border-slate-800 p-6 shadow-lg mt-6\">\r\n      <h2 className=\"text-lg font-semibold text-slate-200 mb-3 text-center\">\r\n        Submit Intel to <span className=\"text-amber-400\">A.I.V.E.</span>\r\n      </h2>\r\n\r\n      <form onSubmit={handleSubmit} className=\"flex flex-col gap-3\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Headline\"\r\n          value={headline}\r\n          onChange={(e) => setHeadline(e.target.value)}\r\n          required\r\n          className=\"bg-slate-800 text-slate-100 p-2 rounded-md outline-none border border-slate-700 focus:border-amber-400\"\r\n        />\r\n\r\n        <div className=\"relative\">\r\n          <textarea\r\n            placeholder=\"Summary or Description\"\r\n            value={summary}\r\n            onChange={(e) => setSummary(e.target.value)}\r\n            required\r\n            rows={4}\r\n            className=\"bg-slate-800 text-slate-100 p-2 rounded-md w-full outline-none border border-slate-700 focus:border-amber-400\"\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            onClick={recording ? stopRecording : startRecording}\r\n            className={`absolute right-3 bottom-3 text-xs px-2 py-1 rounded-md ${\r\n              recording\r\n                ? \"bg-red-500 text-white animate-pulse\"\r\n                : \"bg-amber-400 text-slate-900 hover:bg-amber-300\"\r\n            }`}\r\n          >\r\n            {recording ? \"Stop üéôÔ∏è\" : \"Record Voice\"}\r\n          </button>\r\n        </div>\r\n\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Region (e.g., US, EU, Asia)\"\r\n          value={region}\r\n          onChange={(e) => setRegion(e.target.value)}\r\n          className=\"bg-slate-800 text-slate-100 p-2 rounded-md outline-none border border-slate-700 focus:border-amber-400\"\r\n        />\r\n\r\n        <div className=\"flex items-center justify-between\">\r\n          <label className=\"text-slate-400 text-sm\">Sentiment:</label>\r\n          <select\r\n            value={sentiment}\r\n            onChange={(e) => setSentiment(e.target.value)}\r\n            className=\"bg-slate-800 text-slate-100 px-3 py-1 rounded-md border border-slate-700 focus:border-amber-400\"\r\n          >\r\n            <option>Positive</option>\r\n            <option>Neutral</option>\r\n            <option>Negative</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"flex items-center justify-between\">\r\n          <label className=\"text-slate-400 text-sm\">Impact: {impact}</label>\r\n          <input\r\n            type=\"range\"\r\n            min={0}\r\n            max={100}\r\n            value={impact}\r\n            onChange={(e) => setImpact(parseInt(e.target.value))}\r\n            className=\"w-3/5 accent-amber-400\"\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          disabled={loading}\r\n          className=\"bg-gradient-to-r from-amber-500 to-yellow-400 text-slate-900 font-semibold py-2 rounded-md hover:scale-[1.02] transition-all mt-3 disabled:opacity-60\"\r\n        >\r\n          {loading ? \"Analyzing...\" : \"Submit Intel\"}\r\n        </button>\r\n      </form>\r\n\r\n      {/* === A.I.V.E. Analysis Output === */}\r\n      {analysis && (\r\n        <div className=\"mt-6 text-slate-100 text-sm bg-slate-800/60 p-4 rounded-md border border-slate-700\">\r\n          <p>\r\n            <span className=\"text-amber-400 font-semibold\">Confidence:</span>{\" \"}\r\n            {analysis.confidence ?? \"N/A\"}%\r\n          </p>\r\n          <p>\r\n            <span className=\"text-amber-400 font-semibold\">Sentiment:</span>{\" \"}\r\n            {analysis.overallSentiment ?? sentiment}\r\n          </p>\r\n          <p className=\"mt-2 text-slate-300 italic\">\r\n            {analysis.insights ?? \"...\"}\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* === Predictive Awareness Timeline === */}\r\n      {timeline.length > 0 && (\r\n        <div className=\"flex items-center justify-center gap-2 mt-6\">\r\n          {timeline.map((confidence, i) => {\r\n            const color =\r\n              confidence > 75\r\n                ? \"bg-green-400\"\r\n                : confidence > 50\r\n                ? \"bg-yellow-400\"\r\n                : \"bg-red-400\";\r\n            return (\r\n              <div\r\n                key={i}\r\n                className={`${color} w-6 h-6 rounded-full opacity-80 hover:opacity-100 transition`}\r\n                title={`Day ${i * 10}: ${confidence.toFixed(0)}% confidence`}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n\r\n      {/* === Memory Log / Recent Intelligence === */}\r\n      {intelLog.length > 0 && (\r\n        <div className=\"mt-8 bg-slate-800/60 rounded-lg border border-slate-700 p-4\">\r\n          <h3 className=\"text-sm uppercase text-amber-400 font-semibold mb-2\">\r\n            Recent Intelligence Log\r\n          </h3>\r\n          <ul className=\"space-y-2 text-sm text-slate-300\">\r\n            {intelLog.map((item) => (\r\n              <li\r\n                key={item.id}\r\n                className=\"border-b border-slate-700 pb-2 last:border-none\"\r\n              >\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"font-semibold text-slate-100\">\r\n                    {item.headline}\r\n                  </span>\r\n                  <span className=\"text-xs text-slate-400\">\r\n                    {new Date(item.created_at).toLocaleString()}\r\n                  </span>\r\n                </div>\r\n                <div className=\"text-xs text-slate-400\">\r\n                  {item.region} ‚Ä¢ {item.sentiment} ‚Ä¢ {item.confidence}%\r\n                </div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 879, "column": 0}, "map": {"version":3,"sources":["file:///C:/GMMF/gmmf_donut_nextjs/app/page.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState } from \"react\";\nimport GlobeView from \"@/components/GlobeView\";\nimport SubmitIntel from \"@/components/SubmitIntel\";\n\nexport default function Home() {\n  const [filter, setFilter] = useState(\"All\");\n\n  return (\n    <main className=\"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-start py-10 px-6\">\n      {/* Title */}\n      <h1 className=\"text-3xl font-bold mb-6 text-center text-sky-400\">\n        eX Intelligence Command Center\n      </h1>\n\n      {/* === Top Filters === */}\n      <div className=\"flex gap-3 mb-6 bg-slate-900/80 p-3 rounded-xl shadow-inner border border-slate-800\">\n        {[\"All\", \"High\", \"Medium\", \"Low\", \"Restricted\"].map((lvl) => (\n          <button\n            key={lvl}\n            onClick={() => setFilter(lvl)}\n            className={`px-4 py-2 rounded-md font-medium transition-all ${\n              filter === lvl\n                ? \"bg-sky-600 text-white\"\n                : \"bg-slate-800 text-slate-300 hover:bg-slate-700\"\n            }`}\n          >\n            {lvl}\n          </button>\n        ))}\n      </div>\n\n      {/* === Globe Section === */}\n      <div className=\"relative flex flex-col items-center justify-center\">\n        <GlobeView width={420} height={420} />\n        <p className=\"text-sm text-slate-400 mt-3 italic\">\n          ‚ÄúGlobal awareness powered by A.I.V.E.‚Äù\n        </p>\n      </div>\n\n      {/* === A.I.V.E. Glow Indicator === */}\n      <div className=\"mt-4 mb-8\">\n        <div className=\"w-4 h-4 rounded-full animate-pulse mx-auto\"\n             style={{\n               boxShadow:\n                 \"0 0 10px 2px rgba(255,215,0,0.7), 0 0 30px rgba(255,215,0,0.3)\",\n               background: \"gold\"\n             }}\n        ></div>\n        <p className=\"text-xs text-slate-400 mt-2 text-center\">\n          A.I.V.E. Status: Active\n        </p>\n      </div>\n\n      {/* === Submit Intel Section === */}\n      <div className=\"w-full flex justify-center mt-4\">\n        <SubmitIntel />\n      </div>\n\n      {/* === Footer === */}\n      <footer className=\"mt-10 text-center text-slate-500 text-xs\">\n        Built with üíô by eX & BigDataEtc ‚Äî Powered by Supabase + A.I.V.E.\n      </footer>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,qBACE,8OAAC;QAAK,WAAU;;0BAEd,8OAAC;gBAAG,WAAU;0BAAmD;;;;;;0BAKjE,8OAAC;gBAAI,WAAU;0BACZ;oBAAC;oBAAO;oBAAQ;oBAAU;oBAAO;iBAAa,CAAC,GAAG,CAAC,CAAC,oBACnD,8OAAC;wBAEC,SAAS,IAAM,UAAU;wBACzB,WAAW,CAAC,gDAAgD,EAC1D,WAAW,MACP,0BACA,kDACJ;kCAED;uBARI;;;;;;;;;;0BAcX,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,mIAAS;wBAAC,OAAO;wBAAK,QAAQ;;;;;;kCAC/B,8OAAC;wBAAE,WAAU;kCAAqC;;;;;;;;;;;;0BAMpD,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;wBACV,OAAO;4BACL,WACE;4BACF,YAAY;wBACd;;;;;;kCAEL,8OAAC;wBAAE,WAAU;kCAA0C;;;;;;;;;;;;0BAMzD,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,qIAAW;;;;;;;;;;0BAId,8OAAC;gBAAO,WAAU;0BAA2C;;;;;;;;;;;;AAKnE","debugId":null}}]
}