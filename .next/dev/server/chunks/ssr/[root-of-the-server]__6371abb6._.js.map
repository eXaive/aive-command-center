{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///C:/GMMF/gmmf_donut_nextjs/components/CrashWatch.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { createClient } from \"@supabase/supabase-js\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ninterface CountryRow {\r\n  id: number;\r\n  name: string;\r\n  code: string;\r\n  risk_score: number;\r\n  sentiment: string | null;\r\n}\r\n\r\nconst supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n);\r\n\r\nexport default function CrashWatch() {\r\n  const [countries, setCountries] = useState<CountryRow[]>([]);\r\n  const [activeCountry, setActiveCountry] = useState<string | null>(null);\r\n  const router = useRouter();\r\n\r\n  // üîä play sound when triggered\r\n  const playSound = (type: \"ping\" | \"alert\" | \"recover\") => {\r\n    const audio = new Audio(`/sounds/${type}.mp3`);\r\n    audio.volume = 0.6;\r\n    audio.play().catch(() => {});\r\n  };\r\n\r\n  // üîÑ load data\r\n  useEffect(() => {\r\n    async function load() {\r\n      const { data } = await supabase\r\n        .from(\"countries\")\r\n        .select(\"*\")\r\n        .order(\"risk_score\", { ascending: false });\r\n      setCountries(data || []);\r\n    }\r\n    load();\r\n  }, []);\r\n\r\n  // üîÅ poll + detect changes\r\n  useEffect(() => {\r\n    const timer = setInterval(async () => {\r\n      const { data } = await supabase\r\n        .from(\"countries\")\r\n        .select(\"*\")\r\n        .order(\"risk_score\", { ascending: false });\r\n      if (!data) return;\r\n      data.forEach((c) => {\r\n        const prev = countries.find((p) => p.code === c.code);\r\n        if (prev && prev.risk_score !== c.risk_score) {\r\n          // determine alert type\r\n          if (c.risk_score > prev.risk_score) playSound(\"alert\");\r\n          else playSound(\"recover\");\r\n          setActiveCountry(c.code);\r\n          setTimeout(() => setActiveCountry(null), 3000);\r\n        }\r\n      });\r\n      setCountries(data);\r\n    }, 8000);\r\n    return () => clearInterval(timer);\r\n  }, [countries]);\r\n\r\n  const glowClass = (score: number) => {\r\n    if (score > 80) return \"glow-red\";\r\n    if (score > 60) return \"glow-amber\";\r\n    return \"glow-blue\";\r\n  };\r\n\r\n  return (\r\n    <aside className=\"rounded-lg border bg-white p-3 max-h-[600px] overflow-y-auto\">\r\n      <h2 className=\"text-sm uppercase text-slate-500 mb-2\">Crash Watch</h2>\r\n      <ul className=\"space-y-1\">\r\n        {countries.map((c) => (\r\n          <li\r\n            key={c.id}\r\n            onClick={() => router.push(`/intel/${c.code}`)}\r\n            className={`flex justify-between items-center px-3 py-2 rounded-md cursor-pointer transition\r\n              ${\r\n                activeCountry === c.code\r\n                  ? `${glowClass(c.risk_score)} border`\r\n                  : \"hover:bg-slate-50\"\r\n              }`}\r\n          >\r\n            <span className=\"font-medium text-slate-800\">{c.name}</span>\r\n            <span\r\n              className={`font-semibold ${\r\n                c.risk_score > 80\r\n                  ? \"text-red-600\"\r\n                  : c.risk_score > 60\r\n                  ? \"text-amber-600\"\r\n                  : \"text-blue-600\"\r\n              }`}\r\n            >\r\n              {c.risk_score}\r\n            </span>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </aside>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAcA,MAAM,WAAW,IAAA,uMAAY;AAKd,SAAS;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAe,EAAE;IAC3D,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAgB;IAClE,MAAM,SAAS,IAAA,+IAAS;IAExB,+BAA+B;IAC/B,MAAM,YAAY,CAAC;QACjB,MAAM,QAAQ,IAAI,MAAM,CAAC,QAAQ,EAAE,KAAK,IAAI,CAAC;QAC7C,MAAM,MAAM,GAAG;QACf,MAAM,IAAI,GAAG,KAAK,CAAC,KAAO;IAC5B;IAEA,eAAe;IACf,IAAA,kNAAS,EAAC;QACR,eAAe;YACb,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SACpB,IAAI,CAAC,aACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;gBAAE,WAAW;YAAM;YAC1C,aAAa,QAAQ,EAAE;QACzB;QACA;IACF,GAAG,EAAE;IAEL,2BAA2B;IAC3B,IAAA,kNAAS,EAAC;QACR,MAAM,QAAQ,YAAY;YACxB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SACpB,IAAI,CAAC,aACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;gBAAE,WAAW;YAAM;YAC1C,IAAI,CAAC,MAAM;YACX,KAAK,OAAO,CAAC,CAAC;gBACZ,MAAM,OAAO,UAAU,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK,EAAE,IAAI;gBACpD,IAAI,QAAQ,KAAK,UAAU,KAAK,EAAE,UAAU,EAAE;oBAC5C,uBAAuB;oBACvB,IAAI,EAAE,UAAU,GAAG,KAAK,UAAU,EAAE,UAAU;yBACzC,UAAU;oBACf,iBAAiB,EAAE,IAAI;oBACvB,WAAW,IAAM,iBAAiB,OAAO;gBAC3C;YACF;YACA,aAAa;QACf,GAAG;QACH,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;KAAU;IAEd,MAAM,YAAY,CAAC;QACjB,IAAI,QAAQ,IAAI,OAAO;QACvB,IAAI,QAAQ,IAAI,OAAO;QACvB,OAAO;IACT;IAEA,qBACE,8OAAC;QAAM,WAAU;;0BACf,8OAAC;gBAAG,WAAU;0BAAwC;;;;;;0BACtD,8OAAC;gBAAG,WAAU;0BACX,UAAU,GAAG,CAAC,CAAC,kBACd,8OAAC;wBAEC,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE,IAAI,EAAE;wBAC7C,WAAW,CAAC;cACV,EACE,kBAAkB,EAAE,IAAI,GACpB,GAAG,UAAU,EAAE,UAAU,EAAE,OAAO,CAAC,GACnC,qBACJ;;0CAEJ,8OAAC;gCAAK,WAAU;0CAA8B,EAAE,IAAI;;;;;;0CACpD,8OAAC;gCACC,WAAW,CAAC,cAAc,EACxB,EAAE,UAAU,GAAG,KACX,iBACA,EAAE,UAAU,GAAG,KACf,mBACA,iBACJ;0CAED,EAAE,UAAU;;;;;;;uBAnBV,EAAE,EAAE;;;;;;;;;;;;;;;;AA0BrB","debugId":null}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":["file:///C:/GMMF/gmmf_donut_nextjs/components/GlobeView.tsx"],"sourcesContent":["// components/GlobeView.tsx\r\n\"use client\";\r\n\r\nimport React from \"react\";\r\n\r\nexport default function GlobeView({\r\n  width = 240,\r\n  height = 210,\r\n  title = \"Global View\",\r\n}: {\r\n  width?: number;\r\n  height?: number;\r\n  title?: string;\r\n}) {\r\n  const r = Math.min(width, height) * 0.42;\r\n  const cx = width / 2;\r\n  const cy = height / 2;\r\n\r\n  return (\r\n    <div className=\"w-full\">\r\n      <div className=\"text-xs text-slate-500 mb-2\">{title}</div>\r\n      <svg width={width} height={height} className=\"block mx-auto\">\r\n        <defs>\r\n          <radialGradient id=\"glb\" cx=\"50%\" cy=\"45%\" r=\"60%\">\r\n            <stop offset=\"0%\" stopColor=\"#93C5FD\" />\r\n            <stop offset=\"65%\" stopColor=\"#60A5FA\" />\r\n            <stop offset=\"100%\" stopColor=\"#3B82F6\" />\r\n          </radialGradient>\r\n        </defs>\r\n        {/* sphere */}\r\n        <circle cx={cx} cy={cy} r={r} fill=\"url(#glb)\" stroke=\"#1E3A8A\" strokeWidth={1} />\r\n\r\n        {/* simple lat/long lines */}\r\n        {[ -60, -30, 0, 30, 60 ].map((lat, i) => (\r\n          <ellipse\r\n            key={`lat-${i}`}\r\n            cx={cx}\r\n            cy={cy}\r\n            rx={r * Math.cos((lat * Math.PI) / 180)}\r\n            ry={r * 0.35}\r\n            fill=\"none\"\r\n            stroke=\"rgba(255,255,255,0.55)\"\r\n            strokeWidth={0.7}\r\n          />\r\n        ))}\r\n        {[ -90, -45, 0, 45, 90 ].map((lng, i) => (\r\n          <path\r\n            key={`lng-${i}`}\r\n            d={describeMeridian(cx, cy, r, (lng * Math.PI) / 180)}\r\n            fill=\"none\"\r\n            stroke=\"rgba(255,255,255,0.45)\"\r\n            strokeWidth={0.7}\r\n          />\r\n        ))}\r\n      </svg>\r\n    </div>\r\n  );\r\n}\r\n\r\n// simple meridian path approximation (cosine flattening)\r\nfunction describeMeridian(cx: number, cy: number, r: number, angle: number) {\r\n  const steps = 40;\r\n  const pts: string[] = [];\r\n  for (let i = 0; i <= steps; i++) {\r\n    const t = -Math.PI / 2 + (i / steps) * Math.PI; // -90..+90 latitude\r\n    const x = cx + r * Math.cos(t) * Math.cos(angle);\r\n    const y = cy + r * Math.sin(t);\r\n    pts.push(`${i === 0 ? \"M\" : \"L\"} ${x.toFixed(2)} ${y.toFixed(2)}`);\r\n  }\r\n  return pts.join(\" \");\r\n}\r\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;;AAC3B;;AAIe,SAAS,UAAU,EAChC,QAAQ,GAAG,EACX,SAAS,GAAG,EACZ,QAAQ,aAAa,EAKtB;IACC,MAAM,IAAI,KAAK,GAAG,CAAC,OAAO,UAAU;IACpC,MAAM,KAAK,QAAQ;IACnB,MAAM,KAAK,SAAS;IAEpB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BAA+B;;;;;;0BAC9C,8OAAC;gBAAI,OAAO;gBAAO,QAAQ;gBAAQ,WAAU;;kCAC3C,8OAAC;kCACC,cAAA,8OAAC;4BAAe,IAAG;4BAAM,IAAG;4BAAM,IAAG;4BAAM,GAAE;;8CAC3C,8OAAC;oCAAK,QAAO;oCAAK,WAAU;;;;;;8CAC5B,8OAAC;oCAAK,QAAO;oCAAM,WAAU;;;;;;8CAC7B,8OAAC;oCAAK,QAAO;oCAAO,WAAU;;;;;;;;;;;;;;;;;kCAIlC,8OAAC;wBAAO,IAAI;wBAAI,IAAI;wBAAI,GAAG;wBAAG,MAAK;wBAAY,QAAO;wBAAU,aAAa;;;;;;oBAG5E;wBAAE,CAAC;wBAAI,CAAC;wBAAI;wBAAG;wBAAI;qBAAI,CAAC,GAAG,CAAC,CAAC,KAAK,kBACjC,8OAAC;4BAEC,IAAI;4BACJ,IAAI;4BACJ,IAAI,IAAI,KAAK,GAAG,CAAC,AAAC,MAAM,KAAK,EAAE,GAAI;4BACnC,IAAI,IAAI;4BACR,MAAK;4BACL,QAAO;4BACP,aAAa;2BAPR,CAAC,IAAI,EAAE,GAAG;;;;;oBAUlB;wBAAE,CAAC;wBAAI,CAAC;wBAAI;wBAAG;wBAAI;qBAAI,CAAC,GAAG,CAAC,CAAC,KAAK,kBACjC,8OAAC;4BAEC,GAAG,iBAAiB,IAAI,IAAI,GAAG,AAAC,MAAM,KAAK,EAAE,GAAI;4BACjD,MAAK;4BACL,QAAO;4BACP,aAAa;2BAJR,CAAC,IAAI,EAAE,GAAG;;;;;;;;;;;;;;;;;AAU3B;AAEA,yDAAyD;AACzD,SAAS,iBAAiB,EAAU,EAAE,EAAU,EAAE,CAAS,EAAE,KAAa;IACxE,MAAM,QAAQ;IACd,MAAM,MAAgB,EAAE;IACxB,IAAK,IAAI,IAAI,GAAG,KAAK,OAAO,IAAK;QAC/B,MAAM,IAAI,CAAC,KAAK,EAAE,GAAG,IAAI,AAAC,IAAI,QAAS,KAAK,EAAE,EAAE,oBAAoB;QACpE,MAAM,IAAI,KAAK,IAAI,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC;QAC1C,MAAM,IAAI,KAAK,IAAI,KAAK,GAAG,CAAC;QAC5B,IAAI,IAAI,CAAC,GAAG,MAAM,IAAI,MAAM,IAAI,CAAC,EAAE,EAAE,OAAO,CAAC,GAAG,CAAC,EAAE,EAAE,OAAO,CAAC,IAAI;IACnE;IACA,OAAO,IAAI,IAAI,CAAC;AAClB","debugId":null}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":["file:///C:/GMMF/gmmf_donut_nextjs/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport CrashWatch from \"@/components/CrashWatch\";\nimport GlobeView from \"@/components/GlobeView\";\n\nexport default function HomePage() {\n  return (\n    <main className=\"min-h-screen bg-slate-50 text-slate-800 p-6\">\n      {/* --------- TOP HEADER --------- */}\n      <header className=\"sticky top-0 z-30 bg-white/80 backdrop-blur border-b shadow-sm mb-6\">\n        <div className=\"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-2xl md:text-3xl font-bold tracking-tight text-slate-900\">\n              eX Intelligence Dashboard\n            </h1>\n            <p className=\"text-sm text-slate-600\">\n              Real-time global financial risk intelligence powered by Supabase ‚ö°Ô∏è\n            </p>\n          </div>\n          <img\n            src=\"/crowned_x.svg\"\n            alt=\"eX Logo\"\n            className=\"w-10 h-10 opacity-80\"\n          />\n        </div>\n      </header>\n\n      {/* --------- GRID LAYOUT --------- */}\n      <div className=\"max-w-7xl mx-auto grid md:grid-cols-[260px,1fr,260px] gap-4 items-start\">\n        \n        {/* LEFT COLUMN ‚Äî CRASH WATCH */}\n        <CrashWatch />\n\n        {/* CENTER COLUMN ‚Äî GLOBE / VISUAL AREA */}\n        <section className=\"rounded-xl border bg-white p-6 shadow-sm min-h-[600px] grid place-items-center\">\n          <div className=\"w-full\">\n            <h2 className=\"text-lg font-semibold text-slate-800 mb-4 flex items-center justify-between\">\n              üåç Global Overview\n              <span className=\"text-xs text-slate-500 font-normal\">\n                Connected to Supabase ‚úÖ\n              </span>\n            </h2>\n            <div className=\"border rounded-lg bg-slate-100 grid place-items-center h-[400px]\">\n              <GlobeView width={420} height={360} title=\"Global Risk View\" />\n            </div>\n          </div>\n        </section>\n\n        {/* RIGHT COLUMN ‚Äî TIMELINE / PLACEHOLDER */}\n        <aside className=\"rounded-xl border bg-white p-6 shadow-sm min-h-[600px]\">\n          <h2 className=\"text-sm uppercase tracking-wide text-slate-500 mb-2\">\n            Predictive Timeline\n          </h2>\n          <p className=\"text-sm text-slate-600 mb-4\">\n            This panel will visualize risk trajectories and prediction trends over time.\n          </p>\n          <div className=\"border rounded-lg p-3 text-center text-slate-400 text-sm\">\n            Coming soon: Timeline with historical alerts, market data, and forecast indicators.\n          </div>\n        </aside>\n      </div>\n\n      {/* --------- FOOTER --------- */}\n      <footer className=\"text-center text-xs text-slate-500 mt-10 pb-6\">\n        v1.0 ‚Äî GMMF Baseline ¬∑ Powered by Supabase + Next.js ¬∑ Designed by eX üú≤\n      </footer>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,qBACE,8OAAC;QAAK,WAAU;;0BAEd,8OAAC;gBAAO,WAAU;0BAChB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAA+D;;;;;;8CAG7E,8OAAC;oCAAE,WAAU;8CAAyB;;;;;;;;;;;;sCAIxC,8OAAC;4BACC,KAAI;4BACJ,KAAI;4BACJ,WAAU;;;;;;;;;;;;;;;;;0BAMhB,8OAAC;gBAAI,WAAU;;kCAGb,8OAAC,oIAAU;;;;;kCAGX,8OAAC;wBAAQ,WAAU;kCACjB,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;;wCAA8E;sDAE1F,8OAAC;4CAAK,WAAU;sDAAqC;;;;;;;;;;;;8CAIvD,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,mIAAS;wCAAC,OAAO;wCAAK,QAAQ;wCAAK,OAAM;;;;;;;;;;;;;;;;;;;;;;kCAMhD,8OAAC;wBAAM,WAAU;;0CACf,8OAAC;gCAAG,WAAU;0CAAsD;;;;;;0CAGpE,8OAAC;gCAAE,WAAU;0CAA8B;;;;;;0CAG3C,8OAAC;gCAAI,WAAU;0CAA2D;;;;;;;;;;;;;;;;;;0BAO9E,8OAAC;gBAAO,WAAU;0BAAgD;;;;;;;;;;;;AAKxE","debugId":null}}]
}